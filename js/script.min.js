!function(){function f(){v=new ymaps.Map("map",{center:[59.938554257894,30.322479499999993],zoom:[16],controls:[]}),v.behaviors.disable("scrollZoom"),v.controls.add("zoomControl"),myPlacemark=new ymaps.Placemark([59.938554257894,30.322479499999993],{hintContent:"г. Санкт-Петербург, ул. Б. Конюшенная, д. 19/8"},{preset:"islands#redDotIcon"}),v.geoObjects.add(myPlacemark)}for(var e=document.querySelectorAll(".product-card-actions-buy"),t=document.querySelector(".modal-cart"),a=document.querySelector(".modal-cart-close"),o=t.querySelector(".modal-close-btn"),r=t.querySelector(".modal-btn"),c=document.querySelector(".bar-cart-count"),n=c.querySelector(".count"),l=0;l<e.length;l++)e[l].addEventListener("click",function(e){e.preventDefault(),t.classList.add("modal-cart-show"),c.classList.add("count-active");var a=Number(n.innerHTML);n.innerHTML=a+=1});r.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("modal-cart-show")}),a.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("modal-cart-show")}),o.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("modal-cart-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&t.classList.contains("modal-cart-show")&&t.classList.remove("modal-cart-show")});var s=document.querySelectorAll(".features-slider-arrows a"),d=document.querySelectorAll('[name="features-toggle"]');if(s)for(var l=0;l<s.length;l++)s[l].addEventListener("click",function(e){e.preventDefault();var t=document.querySelector(".features-slider input:checked"),a=[].indexOf.call(d,t),o=d.length;switch(this.dataset.direction){case"left":0==a?d[o-1].checked=!0:d[a-1].checked=!0;break;case"right":o-1==a?d[0].checked=!0:d[a+1].checked=!0}});var i=document.querySelector(".open-modal-map"),m=document.querySelector(".modal-map"),u=document.querySelector(".modal-map-close");if(i){i.addEventListener("click",function(e){e.preventDefault(),m.classList.add("modal-map-show")}),u.addEventListener("click",function(e){e.preventDefault(),m.classList.remove("modal-map-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&m.classList.contains("modal-map-show")&&m.classList.remove("modal-map-show")}),ymaps.ready(f);var v}var y=document.querySelector(".open-modal-btn"),L=document.querySelector(".modal-contact"),h=document.querySelector(".modal-contact-close");if(L){var p=L.querySelector(".contact-form"),w=L.querySelector("[name=name]"),k=L.querySelector("[name=email]"),S=L.querySelector("[name=text]"),q=localStorage.getItem("nameContact"),g=localStorage.getItem("emailContact");y.addEventListener("click",function(e){e.preventDefault(),L.classList.add("modal-contact-show"),q&&!g?(w.value=q,k.focus()):q&&g?(w.value=q,k.value=g,S.focus()):w.focus()}),p.addEventListener("submit",function(e){w.value&&k.value&&S.value?(localStorage.setItem("nameContact",w.value),localStorage.setItem("emailContact",k.value)):(e.preventDefault(),L.classList.add("modal-error"))}),h.addEventListener("click",function(e){e.preventDefault(),L.classList.remove("modal-contact-show"),L.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&L.classList.contains("modal-contact-show")&&(L.classList.remove("modal-contact-show"),L.classList.remove("modal-error"))})}}();